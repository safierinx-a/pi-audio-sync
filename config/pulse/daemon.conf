; Optimized audio configuration for Pi 3B

; Sampling and conversion settings
default-sample-format = float32le
default-sample-rate = 48000
alternate-sample-rate = 44100
default-sample-channels = 2
default-channel-map = front-left,front-right

; Resampling - using high quality (but not very-high) to balance CPU
resample-method = soxr-hq
enable-remixing = yes
enable-lfe-remixing = no
remixing-use-all-sink-channels = yes

; Latency settings - balanced for Pi 3B
default-fragments = 3
default-fragment-size-msec = 15
high-priority = yes
nice-level = -15    ; More aggressive nice level
realtime-scheduling = yes
realtime-priority = 8
rlimit-rtprio = 8

; Volume settings
volume-dB-max = 0.0
volume-dB-min = -96.0
flat-volumes = no

; Idle settings
exit-idle-time = -1
scache-idle-time = 20

; Buffering and timing - safer values for Pi 3B
default-buffer-fragments = 3
default-buffer-size-msec = 45   ; Total buffer of ~45ms

; CPU settings
cpu-limit = yes     ; Enable CPU limiting to prevent overload
avoid-resampling = yes

; Memory settings
rlimit-rss = 1048576    ; Limit memory usage to 1GB
realtime-scheduling = yes

; Logging
log-level = notice
log-target = journal 